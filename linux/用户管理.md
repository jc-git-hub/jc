# 用户管理

#### useradd	 userdel  	

```shell
# 添加用户
useradd 用户名  #自动在/home/下创建一个  以用户名为命名的文件夹
userdel 用户名  #用户删除  但是家目录还在
userdel -r  用户名  #删除用户的同时  连家目录都删除

# 用户信息  保存在  /etc/passwd
root:x:0:0:root:/root:/bin/bash
radvd:x:75:75:radvd user:/:/sbin/nologin
gdm:x:42:42::/var/lib/gdm:/sbin/nologin
jc:x:1000:1000:jc:/home/jc:/bin/bash

第一部分：root  用户名
第二部分：x  密码
第三部分：0  用户id
第四部分：0  所属组的id
第五部分：备注信息
第六部分：用户家目录
第七部分：/bin/bash  表示具备执行脚本的权限
		/sbin/nologin  表示不允许登录  不具备执行脚本的权限
		
#密码信息 /etc/shadow   


# 给用户设置密码 
passwd 用户名  #修改密码
passwd  默认修改root的密码

# 切换用户
su 用户名

# 创建完用户  默认创建一个以该用户命名的组  /etc/group/

第一部分：组名
第二部分：密码
第三部分：组id

```

# 权限管理

#### chmod

```
r  read读
w  write写
x  exec 执行 
-  没有权限

rwx 
r 100   4
w 010   2
x 001   1

拥有者  所属组 其它用户  
rwx    rw-    r-x
7      6      5
	  拥有者  所属组 其它用户  
755   rwx      r-x  r-x
700   rwx      ---  ---
600   rw-      ---  ---

u  # user  拥有者 
g  #group  所属组
o  #other  其他用户
a  #all  所有人


+  #在原来基础上增加权限
-  #在原来的基础上删除权限
=  #重新赋值权限

chmod +x test.txt 
chmod -x test.txt 


# 数字授权
chmod 755 文件名或者目录名
chmod 755 -R  目录名  #递归修改权限  子目录和子文件同时修改
```

### 写脚本 执行

#### #!/bin/bash

```
1. 创建脚本文件
vim test.sh
2. vim 写入内容
第一行：#!/bin/bash
下面写执行代码
cd
echo 'python is best langurange'>>python.txt
echo '执行完成'>>python.txt
3. 保存并退出
4. 执行 当前目录 ./test.sh
也可以是绝对路径


```

### 修改文件或者目录的拥有者

#### chown

``` 
chown

chown  用户名  目录名/文件名  #只是更改了拥有者  但是没有改所属组
chown  用户名 ： 组名
chown -R 用户名：组名 /文件名  #更改所属下的所有文件所有者
```

## 权限  大  boss

#### **chattr**

```shell
+  #在原来基础上增加
-  #在原来基础上减
i  #给文件增加或者删除  只读属性  不能删除  不能写入 不能修改 不能修改硬链接
a  # 只能追加  不能删除  不能修改
chattr +/-  权限（i，a）
+a 后可用echo追加
+i 后不可用echo追加

[root@localhost test_quanxian]# chattr +i test1.txt 
[root@localhost test_quanxian]# echo '+i后追加'>>test1.txt
bash: test1.txt: 权限不够

```

